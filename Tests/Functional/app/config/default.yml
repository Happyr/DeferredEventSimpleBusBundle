imports:
    - { resource: framework.yml }

happyr_mq2php:
  enabled: true


simple_bus_rabbit_mq_bundle_bridge:
  commands:
    producer_service_id: old_sound_rabbit_mq.asynchronous_commands_producer
  events:
    producer_service_id: old_sound_rabbit_mq.asynchronous_events_producer


old_sound_rabbit_mq:
  connections:
    default:
      host:     "127.0.0.1"
      port:     5672
      user:     'guest'
      password: 'guest'
      vhost:    '/'
      lazy:     false
      connection_timeout: 3
      read_write_timeout: 3
  producers:
    asynchronous_commands:
      connection:       default
      exchange_options: { name: 'async_commands', type: direct }
      queue_options:    { name: 'async_commands' }

    asynchronous_events:
      connection:       default
      exchange_options: { name: 'async_events', type: direct }
      queue_options:    { name: 'async_events' }

  consumers:
    asynchronous_commands:
      connection:       default
      exchange_options: { name: 'async_commands', type: direct }
      queue_options:    { name: 'async_commands' }
      callback:         simple_bus.rabbit_mq_bundle_bridge.commands_consumer
    asynchronous_events:
      connection:       default
      exchange_options: { name: 'async_events', type: direct }
      queue_options:    { name: 'async_events' }
      callback:         simple_bus.rabbit_mq_bundle_bridge.events_consumer
